<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Stephen King - Αγορά Βιβλίου</title>
  <link rel="stylesheet" type="text/css" href="style.css">

</head>
<body style="background-color: #2c95c7;">
  <table class="nav_bar">
  <tr>
    <td><a href="awards.html">Βραβεία και Κριτικές</a></td>
    <td><a href="index.html">Αρχική</a></td>
    <td><a href="cinema.html">Κινηματογράφος</a></td>
  </tr>
  <tr><td><a href="message.html" >Αποστολή Μηνύματος</a></td>
      <td style="border: 0px;"></td>
    <td><a href="payment.html">Αγορά Βιβλίου</td>
  </tr>
</table>
<br><br><br>
  <h2 style="color: #d8e257;"><em><u>Αγορά Βιβλίων</u></em></h2>
  <p><b>Στοιχεία Παραγγελίας</b></p>
<form>
    <table class="order_table">
    <tr><td><label for="date">Ημερομηνία :</label></td>
    <td><input type="text" id="date" ></td></tr>
  <tr><td><label for="product">Αριθμός Τίτλων<sup>*</sup> :</label></td>
    <td><select id="product" required onchange="change();">
          <option value="a">Ο Τελευταίος Πιστολέρο</option>
          <option value="b">Το Κάλεσμα Των Τριών</option>
          <option value="c">Οι Ρημαγμένοι Τόποι</option>
          <option value="d">Οι Λύκοι Της Κάλα</option>
          <option value="e">Το Πράσινο Μίλι</option>
      </select></td></tr>
    <tr><td><label for="quantity">Αριθμός Αντιτύπων Τίτλων<sup>*</sup>:</label></td>
      <td><input type="number"  value="0" min="0" id="quantity" onchange="change();"></td></tr>
    </table>
    <fieldset style="border: 2px solid green;">
      <legend>Στοιχεία Κάρτας</legend>
      <table class="order_table">
      <tr><td><label for="payment_method">Επιλέξτε Τύπο Κάρτας<sup>*</sup> :</td>
        <td><div style="font-weight: normal;">
          <input type="radio" name="payment_method" value="visa">VISA
          <input type="radio" name="payment_method" value="master">MASTERCARD
          <input type="radio" name="payment_method" value="ame_ex">AMERICAN EXPRESS
        </td></tr></div>
              <tr><td><label for="cd_num">Αριθμός Κάρτας<sup>*</sup>:</label></td>
                <td><input type="text" id="cd_num" ></td></tr>
                <tr><td><label for="holder_name">Όνομα Κατόχου<sup>*</sup>:</td>
                  <td><input type="text" id="holder_name" required></td></tr>
                <tr><td><label for="expiry">Ημερομηνία Λήξης<sup>*</sup>:</label></td>
                  <td><input type="month" required></td></tr>
                <tr><td><label for="sec_code">Κωδικός Ασφαλείας<sup>*</sup>:</label></td>
                  <td><input type="text" size="3" maxlength="4" id="sec_code" required></td></tr>

      </table>
      </fieldset>
    </table>
<input type="reset" value="Εκκαθάριση Στοιχέιων"> <input type="submit" value="Αγορά" onclick="ClickMe();">
</form>
<p id="sum"></p>
<script>
  function change()
  {
    pricing(document.getElementById('product').value,document.getElementById('quantity').value);
  }

      var today = new Date();
      var dd = today.getDate();
      var mm = today.getMonth()+1; //o ianourios einai to 0
      var yyyy = today.getFullYear();

      if(dd<10) {
          dd = '0'+dd;
      }

      if(mm<10) {
          mm = '0'+mm;
      }

      today = mm + '/' + dd + '/' + yyyy;
      document.getElementById('date').value = today;


    function CheckRequired(prod,quant)
    {
      if (prod == ""){
        alert('Παρακαλούμε συμπληρώστε τα απαιτούμενα πεδία.');
      }
      if (quant == "0"){
        alert('Παρακαλούμε συμπληρώστε τα απαιτούμενα πεδία.');
      }
    }



    function ClickMe()
    {
      CheckRequired(document.getElementById('product').value,document.getElementById('quantity').value);
      isNumber(document.getElementById('cd_num').value,document.getElementById('sec_code').value);
    }

    function isNumber(card,sec)
    {
      if (isNaN(card)){
        alert('Το πεδίο Αριθμός Κάρτας δέχεται μόνο αριθμούς!');
      }
      if (isNaN(sec)){
        alert('Το πεδίο Κωδικός Ασφαλείας δέχεται μόνο αριθμούς!');
      }
      if (sec.length > 3){
        alert('Το πεδίο Κωδικός Ασφαλείας δέχεται μέχρι 3 ψηφία!');
      }
    }
      function pricing(prod,quant)
      {
        var posot = parseInt(quant);
        var price = 0;

        if (prod == "a"){
          price = 10;
        }
         if (prod == "b"){
          price = 8;
        }
        if (prod == "c"){
          price = 24;
        }
        if (prod == "d"){
          price = 13;
        }
        if (prod == "e"){
          price = 15;
        }
        var total = price * posot;
        var taxed = total + total * 11/100;
        result = ("<h3>Σύνολο: </h3>"+price+"*"+posot+"="+total+"euros + Φ.Π.Α.(11%)="+taxed+"euros.")
        document.getElementById('sum').innerHTML = result;

      }

</script>
</body>
</html>
